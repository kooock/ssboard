# í”„ë¡œì íŠ¸ ì™„ì„± ìš”ì•½

Dockerì™€ Kubernetes ê°•ì˜ë¥¼ ìœ„í•œ ê²Œì‹œíŒ í”„ë¡œì íŠ¸ê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰

## ğŸ“¦ í”„ë¡œì íŠ¸ êµ¬ì„±

### Backend (Spring Boot + Java 21)
- âœ… User, Post, Comment ì—”í‹°í‹°
- âœ… JWT ì¸ì¦ ë° Spring Security
- âœ… CRUD API (ê²Œì‹œê¸€, ëŒ“ê¸€, ëŒ€ëŒ“ê¸€)
- âœ… í˜ì´ì§• ë° ê²€ìƒ‰ ê¸°ëŠ¥
- âœ… ì´ˆê¸° ë°ëª¨ ë°ì´í„° ë¡œë”
- âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ Dockerfile

### Frontend (Next.js 14 + TypeScript)
- âœ… ë¡œê·¸ì¸/íšŒì›ê°€ì… í˜ì´ì§€
- âœ… ê²Œì‹œê¸€ ëª©ë¡/ìƒì„¸/ì‘ì„±/ìˆ˜ì • í˜ì´ì§€
- âœ… ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸
- âœ… í˜ì´ì§• ë° ê²€ìƒ‰ UI
- âœ… JWT í† í° ê´€ë¦¬
- âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ Dockerfile

### Docker
- âœ… ê°œë³„ Dockerfile (Backend, Frontend)
- âœ… docker-compose.yml (healthcheck, depends_on)
- âœ… .dockerignore íŒŒì¼ë“¤
- âœ… ë¹Œë“œ/í‘¸ì‹œ ìŠ¤í¬ë¦½íŠ¸

### Kubernetes (k3s)
- âœ… Namespace
- âœ… ConfigMap (ì„¤ì • ë°ì´í„°)
- âœ… Secret (ë¯¼ê° ì •ë³´)
- âœ… PostgreSQL (PVC, Deployment, Service)
- âœ… Backend (Deployment with replicas, Service)
- âœ… Frontend (Deployment, Service, Ingress)
- âœ… ë°°í¬/ì‚­ì œ ìŠ¤í¬ë¦½íŠ¸

### ë¬¸ì„œ
- âœ… README.md (ì „ì²´ ê°€ì´ë“œ)
- âœ… TEACHING_GUIDE.md (ê°•ì˜ ì§„í–‰ ê°€ì´ë“œ)
- âœ… QUICKSTART.md (ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ)
- âœ… PROJECT_SUMMARY.md (ì´ ë¬¸ì„œ)

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### ì‚¬ìš©ì ê¸°ëŠ¥
- íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ (JWT)
- ê²Œì‹œê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ
- ëŒ“ê¸€ ë° ëŒ€ëŒ“ê¸€ ì‘ì„±
- ê²Œì‹œê¸€ ê²€ìƒ‰ ë° í˜ì´ì§•
- ì¡°íšŒìˆ˜ ì¹´ìš´íŠ¸

### Docker/K8s í•™ìŠµ í¬ì¸íŠ¸
- ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ
- ì»¨í…Œì´ë„ˆ ë„¤íŠ¸ì›Œí‚¹
- í—¬ìŠ¤ì²´í¬ ë° depends_on
- ConfigMapê³¼ Secret í™œìš©
- PersistentVolume ì‚¬ìš©
- Replicaì™€ ë¡œë“œë°¸ëŸ°ì‹±
- ìê°€ ë³µêµ¬ (Self-healing)
- ë¡¤ë§ ì—…ë°ì´íŠ¸

## ğŸš€ ì‚¬ìš© ë°©ë²•

### Option 1: Docker Compose (ê°€ì¥ ë¹ ë¦„)
```bash
docker-compose up -d
# http://localhost:3000
```

### Option 2: Kubernetes
```bash
./build-and-push.sh YOUR_DOCKERHUB_USERNAME
cd k8s
./deploy-all.sh
kubectl port-forward -n board service/frontend-service 3000:3000
# http://localhost:3000
```

## ğŸ“‹ ê°•ì˜ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê°•ì‚¬ ì¤€ë¹„ì‚¬í•­
- [ ] Docker Desktop ì‹¤í–‰
- [ ] ì´ë¯¸ì§€ ë¯¸ë¦¬ ë¹Œë“œ (`docker build` ê°ê° ì‹¤í–‰)
- [ ] Docker Hub ê³„ì • ì¤€ë¹„ ë° ë¡œê·¸ì¸
- [ ] k3s ì„¤ì¹˜ í™•ì¸ (í´ë¼ìš°ë“œ VM)
- [ ] í„°ë¯¸ë„ í°íŠ¸ í¬ê¸° ì¡°ì •
- [ ] ë¸Œë¼ìš°ì € ë¶ë§ˆí¬ ì„¤ì •
- [ ] ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸

### ê°•ì˜ íë¦„ (60ë¶„)
1. **Docker Run (20ë¶„)**: ê°œë³„ ì»¨í…Œì´ë„ˆ ì‹¤í–‰, ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ í•´ê²°
2. **Docker Compose (20ë¶„)**: ì„ ì–¸ì  ì„¤ì •, ì„œë¹„ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
3. **Kubernetes (20ë¶„)**: í”„ë¡œë•ì…˜ ë°°í¬, ìŠ¤ì¼€ì¼ë§, ìê°€ ë³µêµ¬

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê³„ì •

í”„ë¡œì íŠ¸ì—ëŠ” ë‹¤ìŒ í…ŒìŠ¤íŠ¸ ê³„ì •ì´ ë¯¸ë¦¬ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- **Admin**: `admin` / `admin123`
- **User1**: `user1` / `user123`
- **User2**: `user2` / `user123`

ì´ˆê¸° ê²Œì‹œê¸€ê³¼ ëŒ“ê¸€ë„ 3ê°œì”© ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## ğŸ“Š ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Kubernetes Cluster                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Namespace: board                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ Frontend â”‚  â”‚ Backend  â”‚  â”‚PostgreSQLâ”‚   â”‚ â”‚
â”‚  â”‚  â”‚  (x2)    â”‚  â”‚  (x2)    â”‚  â”‚  (x1)    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ Port 3000â”‚â†’ â”‚ Port 8080â”‚â†’ â”‚Port 5432 â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚       â†“              â†“              â†“        â”‚ â”‚
â”‚  â”‚  [Service]     [Service]     [Service]       â”‚ â”‚
â”‚  â”‚       â†“              â†“                        â”‚ â”‚
â”‚  â”‚  [Ingress]â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â†“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
                    [External Access]
```

## ğŸ”‘ í•µì‹¬ ê°œë… ë§¤í•‘

### Docker Run â†’ Docker Compose
- ìˆ˜ë™ ë„¤íŠ¸ì›Œí¬ â†’ ìë™ ë„¤íŠ¸ì›Œí¬
- ê°œë³„ í™˜ê²½ë³€ìˆ˜ â†’ ì¤‘ì•™ ê´€ë¦¬
- ìˆ˜ë™ ìˆœì„œ ì œì–´ â†’ depends_on + healthcheck

### Docker Compose â†’ Kubernetes
- ë‹¨ì¼ ì„œë²„ â†’ í´ëŸ¬ìŠ¤í„°
- ì œí•œì  ìŠ¤ì¼€ì¼ë§ â†’ ìë™ ìŠ¤ì¼€ì¼ë§
- ê¸°ë³¸ ì¬ì‹œì‘ â†’ Self-healing
- ì—†ìŒ â†’ ë¡œë“œë°¸ëŸ°ì‹±
- ì—†ìŒ â†’ ë¡¤ë§ ì—…ë°ì´íŠ¸

## ğŸ“ ì»¤ìŠ¤í„°ë§ˆì´ì§• í¬ì¸íŠ¸

ê°•ì˜ ë‚´ìš©ì´ë‚˜ í™˜ê²½ì— ë”°ë¼ ë‹¤ìŒì„ ìˆ˜ì •í•˜ì„¸ìš”:

1. **Docker Hub Username**:
   - `k8s/backend/deployment.yaml`
   - `k8s/frontend/deployment.yaml`

2. **ë„ë©”ì¸/IP**:
   - `k8s/frontend/ingress.yaml`
   - `k8s/frontend/deployment.yaml` (NEXT_PUBLIC_API_URL)

3. **ë¦¬ì†ŒìŠ¤ í• ë‹¹**:
   - ê° `deployment.yaml`ì˜ resources ì„¹ì…˜

4. **Replica ìˆ˜**:
   - ê°•ì˜ ì‹œì—°ìš©ìœ¼ë¡œ ì¡°ì • ê°€ëŠ¥

## ğŸ“ í•™ìŠµ ëª©í‘œ

ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ìˆ˜ê°•ìƒë“¤ì€:

1. **Docker ê¸°ì´ˆ**ë¥¼ ì´í•´í•©ë‹ˆë‹¤
   - ì»¨í…Œì´ë„ˆí™”ì˜ í•„ìš”ì„±
   - ì´ë¯¸ì§€ ë¹Œë“œ ë° ì‹¤í–‰
   - ë„¤íŠ¸ì›Œí‚¹ ë¬¸ì œ í•´ê²°

2. **Docker Compose**ë¡œ ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•©ë‹ˆë‹¤
   - ì„ ì–¸ì  ì„¤ì •ì˜ ì¥ì 
   - ì„œë¹„ìŠ¤ ê°„ ì˜ì¡´ì„± ê´€ë¦¬

3. **Kubernetes**ë¡œ í”„ë¡œë•ì…˜ ë°°í¬ë¥¼ ê²½í—˜í•©ë‹ˆë‹¤
   - Pod, Service, Deployment ì´í•´
   - ConfigMap, Secret í™œìš©
   - ìŠ¤ì¼€ì¼ë§ ë° ìê°€ ë³µêµ¬
   - ë¬´ì¤‘ë‹¨ ë°°í¬ (Rolling Update)

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

### Backendê°€ ì‹œì‘ ì•ˆë¨
```bash
docker logs backend
kubectl logs deployment/backend -n board
```
â†’ DB ì—°ê²° í™•ì¸, í™˜ê²½ë³€ìˆ˜ í™•ì¸

### Frontendì—ì„œ API í˜¸ì¶œ ì‹¤íŒ¨
â†’ NEXT_PUBLIC_API_URL í™•ì¸
â†’ CORS ì„¤ì • í™•ì¸

### Kubernetes Pod ì‹œì‘ ì‹¤íŒ¨
```bash
kubectl describe pod <pod-name> -n board
kubectl get events -n board
```
â†’ ì´ë¯¸ì§€ Pull í™•ì¸
â†’ Secret/ConfigMap í™•ì¸

## ğŸ‰ ë‹¤ìŒ ë‹¨ê³„

ê°•ì˜ í›„ ìˆ˜ê°•ìƒë“¤ì—ê²Œ ì œì•ˆí•  ê³¼ì œ:

1. **ê¸°ëŠ¥ ì¶”ê°€**: ê²Œì‹œê¸€ ì¢‹ì•„ìš”, íƒœê·¸ ê¸°ëŠ¥
2. **ëª¨ë‹ˆí„°ë§**: Prometheus + Grafana ì—°ë™
3. **CI/CD**: GitHub Actionsë¡œ ìë™ ë°°í¬
4. **ë³´ì•ˆ ê°•í™”**: HTTPS, Network Policy
5. **ìµœì í™”**: HPA (Horizontal Pod Autoscaler)

## ğŸ“š ì°¸ê³  ìë£Œ

- [Docker ê³µì‹ ë¬¸ì„œ](https://docs.docker.com/)
- [Kubernetes ê³µì‹ ë¬¸ì„œ](https://kubernetes.io/)
- [k3s ê³µì‹ ë¬¸ì„œ](https://k3s.io/)
- [Spring Boot ê³µì‹ ë¬¸ì„œ](https://spring.io/projects/spring-boot)
- [Next.js ê³µì‹ ë¬¸ì„œ](https://nextjs.org/)

---

**í”„ë¡œì íŠ¸ ì™„ì„±ì¼**: 2025-11-04
**ëª©ì **: Dockerì™€ Kubernetes ì‹¤ìŠµ ê°•ì˜ìš©
**ëŒ€ìƒ**: ì»¨í…Œì´ë„ˆ ê¸°ìˆ ì„ ì²˜ìŒ ë°°ìš°ëŠ” ê°œë°œì

ì¢‹ì€ ê°•ì˜ ë˜ì„¸ìš”! ğŸš€

